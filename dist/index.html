<!DOCTYPE HTML>
<html>
    <head>
        <meta charset="utf-8">
        <meta name="color-scheme" content="dark light">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <title>BTJGenshinPS</title>
        <script>if (typeof module === 'object') {window.module = module; module = undefined;}</script>
        <script type="text/javascript" src="./js/jquery-3.6.0.min.js"></script>   
        <link rel="stylesheet" href="./css/font-awesome/all.css">
        <link rel="stylesheet" href="./css/iziToast.min.css">
        <script type="text/javascript" src="./js/iziToast.min.js"></script>
        <link rel="stylesheet" href="./css/style.css">
        <link rel="stylesheet" href="./css/loading-box.css">
        <link rel="stylesheet" href="./css/iconfont.css">
        <link rel="icon" href="./favicon.ico">
    </head>
    <body>
        <div class="dragbar">
            <img class="title_img" src="./favicon.ico">
            <a class="title_text">BTJGenshinPS</a>
            <a class="title_text_version">v1.0.0</a>
            <div id="dragbar_question" class="fa-light fa-circle-info"></div>
            <div id="dragbar_close" class="iconfont icon-xmark"></div>
            <div id="dragbar_window" class="iconfont icon-3zuidahua-3"></div>
            <div id="dragbar_min" class="iconfont icon-minus"></div>
            <div id="dragbar_maximize" class="iconfont icon-window-maximize"></div>
        </div>
        <div class="loading-box">
            <div class="loading-anime"></div>
            <img class="loading-image" src="./favicon.ico">
            <div class="loading-text">BTJGenshinPS</div>
            <div class="loading-version">Version&nbsp;1.0.0</div>
        </div>
        <div class="menu">
            <div id="menu_background" class="menu_background"></div>
            <div class="menu_selector_0">
                <div class="menu_selector_0_background"></div>
                <i id="menu_selector_0_icon" class="fa-light fa-home"></i>
                <a class="menu_selector_0_text">主页</a>
                <div class="menu_underline_0"></div>
            </div>
            <div class="menu_selector_1">
                <div class="menu_selector_1_background"></div>
                <i id="menu_selector_1_icon" class="fa-light fa-screwdriver-wrench"></i>
                <a class="menu_selector_1_text">工具/扩展</a>
                <div class="menu_underline_1"></div>
            </div>
            <div class="menu_selector_2">
                <div class="menu_selector_2_background"></div>
                <i id="menu_selector_2_icon" class="fa-light fa-book"></i>
                <a class="menu_selector_2_text">文档</a>
                <div class="menu_underline_2"></div>
            </div>
            <div class="menu_selector_log">
                <div class="menu_selector_log_background"></div>
                <i id="menu_selector_log_icon" class="fa-light fa-memo-circle-info"></i>
                <a class="menu_selector_log_text">日志</a>
                <div class="menu_underline_log"></div>
            </div>
            <div class="menu_selector_settings">
                <div class="menu_selector_settings_background"></div>
                <i id="menu_selector_settings_icon" class="fa-light fa-gear"></i>
                <a class="menu_selector_settings_text">设置</a>
                <div class="menu_underline_settings"></div>
            </div>
        </div>
        <div class="page_0">
            <div class="page_title">主页</div>
            <i class="page_subtitle">BTJGenshinPS</i>
            <div class="page_0_text_0">游戏目录路径&nbsp;
                <button name="choose_game_path">选择路径</button>
                <button name="restore_official">恢复官服 (去除补丁)</button>
            </div>
            <div class="page_0_text_patch_flex">
                <input type="text" name="game_path" disabled="disabled">
                <div class="patch_state">已检测到补丁&nbsp;(version.dll)</div>
            </div>
            <div class="page_0_right_banner">
                <div class="page_0_text_1_flex">
                    <div class="page_0_text_1_update_btn">更新资源</div>
                    <div class="page_0_text_1">获取资源方式
                        <label class="res_getway_0">
                            <input type="checkbox" checked>
                            <span class="res_getway_0_checkbox"></span>
                            <span class="label-text">代理</span>
                        </label>
                        <label class="res_getway_1">
                            <input type="checkbox">
                            <span class="res_getway_1_checkbox"></span>
                            <span class="label-text">直连</span>
                        </label>
                    </div>
                </div>
                <a class="page_0_right_banner_title">须知</a>
                <a class="page_0_right_banner_text"><p>
                    若在启动服务后更改了设置，请重启应用<br>
                    以应用更改！<br>
                    请先启动服务再启动游戏！<br>
                    新版补丁理论上玩官服时不再需要删除
                </p></a>
                <div class="update_progress">下载进度将会显示在这里</div>
            </div>
            <div class="page_0_text_2">Grasscutter设置
                <div class="page_0_text_2_flex">
                    <div class="page_0_text_2_sub_0">IP / 域名</div>
                    <div class="page_0_text_2_sub_1">游戏服务器端口</div>
                    <div class="page_0_text_2_sub_2">DISPATCH端口</div>
                </div>
            </div>
            <input type="text" name="gc_ip" value="127.0.0.1">
            <input type="text" name="gc_game_port" value="22102">
            <input type="text" name="gc_dispatch_port" value="443">
            <div class="page_0_text_3">SSL证书&nbsp;
                <a class="page_0_text_3_sub_0">keystore.p12</a>&nbsp;
                <label class="ssl_ver_0">
                    <input type="checkbox" checked>
                    <span class="self-signed-keystore"></span>
                    <span class="label-text">自签名证书</span>
                </label>
                <label class="ssl_ver_1">
                    <input type="checkbox">
                    <span class="official-keystore"></span>
                    <span class="label-text">官方证书(不推荐)</span>
                </label>
            </div>
            <div class="page_0_text_4">MongoDB设置
                <div class="page_0_text_4_flex">
                    <div class="page_0_text_4_sub_0">数据库端口</div>
                    <div class="page_0_text_4_sub_1">数据文件夹</div>
                </div>
            </div>
            <input type="text" name="mongo_port" value="27017" disabled="disabled">
            <input type="text" name="mongo_data_folder" value=".\data" disabled="disabled">
            <div class="page_0_text_5">
                <div class="page_0_text_5_flex_0">客户端代理
                    <div class="page_0_text_5_flex_sub_0">
                        <label class="proxy_using_ssl">
                            <input type="checkbox" checked>
                            <span class="proxy_using_ssl_checkbox"></span>
                            <span class="label-text">使用SSL</span>
                        </label>
                    </div>
                </div>
                <div class="page_0_text_5_flex_1">
                    <div class="page_0_text_5_sub_0">IP / 域名</div>
                    <div class="page_0_text_5_sub_1">DISPATCH端口</div>
                </div>
            </div>
            <input type="text" name="proxy_ip" value="127.0.0.1">
            <input type="text" name="proxy_port" value="443">
            <div class="operation_box">
                <div class="operation_box_title">起爆器</div>
                <div class="operation_box_btn_0">启动全部服务</div>
                <div class="operation_box_flex">
                    <div class="operation_box_btn_1">停止服务</div>
                    <div class="operation_box_btn_proxy">启动代理</div>
                    <div class="operation_box_btn_2">启动游戏</div>
                </div>
            </div>
            <button name="clear_data" class="clear_data">恢复出厂</button>
            <i class="page_0_version_title">Latest Commit</i>
            <i class="gc_version" target="_blank">Grasscutter Release N/A-N/A</i>
            <i class="res_version" target="_blank">Yuuki GC-Resources N/A</i>
        </div>
        <div class="page_1">
            <div class="page_title">工具/扩展</div>
            <i class="page_subtitle">BTJGenshinPS</i>
            <div class="page_tools_text_0">GcTools&nbsp;v1.12.2&nbsp;<button name="gctools_btn">下载/打开</button></div>
            <div class="page_tools_text_1">Handbook手册&nbsp;(官方)&nbsp;<button name="handbook_txt">TXT</button><button name="handbook_html">可视化网页</button></div>
            <div class="page_tools_text_compass">
                <div class="page_tools_text_compass_flex">
                    MongoDB&nbsp;Compass<br>数据库管理工具
                    <button name="compass_btn">下载/打开</button>
                </div>    
            </div>
            <div class="page_tools_text_2">模组管理</div>
            <i class="page_tools_text_2_sub">若想使用模组,&nbsp;请在启动服务后下方点击&nbsp;"注入3DMigoto",&nbsp;不用再额外启动游戏！<br>可在设置中指定3DMigoto路径,&nbsp;默认使用自带版本</i>
            <div class="page_tools_mods_actions">
                <div class="operation_box_btn_3">注入3DMigoto</div>
                <div class="page_tools_mods_drag_area">将文件夹拖放至此处以添加模组</div>
            </div>
            <div class="page_tools_mods_list">
                <div class="page_tools_mods_list_item">
                    <div class="page_tools_mods_name">模组名称将会在此处显示...</div>
                    
                </div>
                <div class="bottom-spacing"></div>
            </div>
            <div class="page_tools_text_3">Grasscutter插件管理</div>
            <div class="page_tools_plugs_drag_area">将JAR拖放至此处以添加插件</div>
            <div class="page_tools_plugs_list">
                <div class="page_tools_plugs_list_item">
                    <div class="page_tools_plugs_name">插件名称将会在此处显示...</div>
                    
                </div>
                <div class="bottom-spacing"></div>
            </div>
        </div>
        <div class="page_2">
            <iframe class="doc_iframe" id="doc_iframe" src="http://localhost:52805/BGP-docs"></iframe>
            <div id="iframe_button">
                <div class="fa-solid fa-refresh" id="refresh_iframe"></div>
                <div class="fa-solid fa-backward" id="backward_page_iframe"></div>
                <div class="fa-solid fa-home" id="home_page_iframe"></div>
            </div>
        </div>
        <div class="page_log">
            <div class="page_title">日志</div>
            <i class="page_subtitle">BTJGenshinPS</i>
            <div class="page_log_console">
                <div class="page_log_text_0">点击“启动服务”后日志将会在这里显示...<br></div>
                <div class="bottom-spacing"></div>
            </div>
        </div>
        <div class="page_settings">
            <div class="page_title">设置</div>
            <i class="page_subtitle">BTJGenshinPS</i>
            <div class="page_settings_text_0">Java路径&nbsp;<button name="choose_java_path">选择Java路径</button></div>
            <input type="text" name="java_path" disabled="disabled" text="自动检测">
            <div class="page_settings_text_1">查看日志</div>
            <div class="page_settings_text_1_flex">
                    <button name="open_log_dir">打开日志目录</button>
                    <button name="open_log_latest">打开最新日志</button>
                </div>
            <div class="page_settings_text_2">3DMigoto路径&nbsp;<button name="choose_3dmigoto_path">选择3DMigoto路径</button></div>
            <i class="page_settings_text_2_sub">请将exe命名为&nbsp;"3DMigoto Loader.exe"</i>
            <input type="text" name="3dmigoto_path" disabled="disabled">
            <div class="page_settings_text_3">应用配置</div>
            <i class="page_settings_text_3_sub">若想编辑配置，请在弹出的窗口中选择记事本或其他编辑器打开！<br>编辑后需重启应用以完成更改!</i>
            <div class="page_settings_text_3_flex">
                <button name="edit_config">编辑应用配置</button>
                <button name="export_config">导出应用配置</button>
                <button name="import_config">导入应用配置</button>
            </div>
        </div>
        <script type="text/javascript" src="./js/devtools-detect.js"></script>
        <script type="text/javascript" src="./js/ipc.renderer.js"></script>
        <script type="text/javascript" src="./js/render.js"></script>
        <script type="text/javascript" src="./js/menu.js"></script>
        <script type="text/javascript" src="./js/loading-box.js"></script>
        <script>if (window.module) module = window.module;</script>
    </body>
</html>