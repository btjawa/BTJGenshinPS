import{_ as a}from"./plugin-vue_export-helper-c27b6911.js";import{o as n,c as o,e as c,a as e,f as t,b as s}from"./app-c7f77f51.js";const r={},d=e("p",null,"第二常见的错误",-1),i=t(`<h2 id="解决方案" tabindex="-1"><a class="header-anchor" href="#解决方案" aria-hidden="true">#</a> 解决方案</h2><h3 id="_1-尝试重启所有服务" tabindex="-1"><a class="header-anchor" href="#_1-尝试重启所有服务" aria-hidden="true">#</a> 1. 尝试重启所有服务</h3><h3 id="_2-检查代理端日志" tabindex="-1"><a class="header-anchor" href="#_2-检查代理端日志" aria-hidden="true">#</a> 2. 检查代理端日志</h3><p>是否有包含 <code>hoyoverse.com</code> <code>mihoyo.com</code> 请求，并检查是否被正确转发至服务器IP</p><p>若使用Mitm，正确代理到了应该为类似这样的日志</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token number">127.0</span>.0.1:6259: GET https://127.0.0.1/query_region_list?version<span class="token operator">=</span>CNRELWin4.0.1…
             <span class="token operator">&lt;&lt;</span> <span class="token number">200</span> OK <span class="token number">3</span>.1k
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p>若无此类型请求，则是客户端代理服务器配置错误，请检查主机与端口填写</p><p>若有此类型请求但同时也包含 <code>TLS handshake failed</code> ，请检查客户端是否有正确安装签发 <code>keystore.p12</code> 的CA证书与Mitm的根证书</p><p>若有此类型请求但有类似于 <code>目标服务器积极拒绝连接…</code> ，请手动在服务器dig或ping米哈游域名</p><h3 id="_3-偏玄学-更改服务测grasscutter-config-json" tabindex="-1"><a class="header-anchor" href="#_3-偏玄学-更改服务测grasscutter-config-json" aria-hidden="true">#</a> 3. (偏玄学) 更改服务测Grasscutter <code>config.json</code></h3><p>修改 <code>server.http.accessAddress</code> 键的值为 <code>dispatchcnglobal.yuanshen.com</code></p><p>格式应该是这样</p>`,12),l=e("div",{class:"language-json line-numbers-mode","data-ext":"json"},[e("pre",{json:"",class:"language-json"},[e("code",null,[e("span",{class:"token property"},'"bindAddress"'),e("span",{class:"token operator"},":"),s(),e("span",{class:"token string"},'"0.0.0.0"'),e("span",{class:"token punctuation"},","),s(`
`),e("span",{class:"token property"},'"bindPort"'),e("span",{class:"token operator"},":"),s(),e("span",{class:"token number"},"443"),e("span",{class:"token punctuation"},","),s(`
`),e("span",{class:"token property"},'"accessAddress"'),e("span",{class:"token operator"},":"),s(),e("span",{class:"token string"},'"dispatchcnglobal.yuanshen.com"'),e("span",{class:"token punctuation"},","),s(`
`),e("span",{class:"token property"},'"accessPort"'),e("span",{class:"token operator"},":"),s(),e("span",{class:"token number"},"0"),e("span",{class:"token punctuation"},","),s(`
`)])]),e("div",{class:"highlight-lines"},[e("br"),e("br"),e("div",{class:"highlight-line"}," "),e("br")]),e("div",{class:"line-numbers","aria-hidden":"true"},[e("div",{class:"line-number"}),e("div",{class:"line-number"}),e("div",{class:"line-number"}),e("div",{class:"line-number"})])],-1),p=e("h2",{id:"原理",tabindex:"-1"},[e("a",{class:"header-anchor",href:"#原理","aria-hidden":"true"},"#"),s(" 原理")],-1),h=e("p",null,"关于方案3：据说是高版本客户端会向服务端发送proto_version，gc的dispatch目前还没有实现这个功能，自然就4206了",-1);function u(m,_){return n(),o("div",null,[d,c(" more "),i,l,p,h])}const g=a(r,[["render",u],["__file","4206.html.vue"]]);export{g as default};
